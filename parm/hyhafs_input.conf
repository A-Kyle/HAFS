## Configures input sources for the hwrf.input module

# This file is read in after the hwrf.conf file, and specifies where
# to get input data.  The hwrf.input classes read this to figure out
# where to pull data from (over network or tape) and where to put it
# in staging areas.

## Configures the naming convention for 2015 GFS production and
## retrospectives in 2014.
#
# This section is \@inc included by later sections.  It contains the
# 2014 parallel and 2015 production naming convention of of various
# files within the GFS, GDAS or ENKF, including GRIB2 files.
#
# See this link for 2012 vs. 2014 differences:
#   http://www.nws.noaa.gov/om/notification/tin14-46gfs.htm
[gfs2014_naming]
gfs_sf            = gfs.t{aHH}z.sf{fahr:02d}            ;; GFS spectral forecast
gfs_sfcanl        = gfs.t{aHH}z.sfcanl                  ;; GFS surface analysis
gfs_sanl          = gfs.t{aHH}z.sanl                    ;; GFS spectral analysis
gfs_bufr          = gfs.t{aHH}z.{obstype}.tm00.bufr_d   ;; GFS bufr files
gfs_abias         = gfs.t{aHH}z.abias                   ;; bias correction
tcvitals_tm00     = gfs.t{aHH}z.syndata.tcvitals.tm00   ;; time 0 tcvitals
gfs_prepbufr_rst  = gfs.t{aHH}z.prepbufr                ;; prepbufr data, restricted
gfs_prepbufr_nr   = gfs.t{aHH}z.prepbufr.nr             ;; prepbufr data, non-restricted

enkf_sfg          = sfg_{aYMDH}_fhr{fahr:02d}s_mem{enkfmem:03d} ;; GFS ENKF forecast
enkf_siganl       = siganl_{aYMDH}_mem{enkfmem:03d}     ;; GFS ENKF analysis

gdas1_bufr        = gdas.t{aHH}z.{obstype}.tm00.bufr_d ;; GDAS bufr data 
gdas1_biascr      = gdas.t{aHH}z.abias                 ;; GDAS bias correction abias file
gdas1_biascr_pc   = gdas.t{aHH}z.abias_pc              ;; GDAS bias correction abias_pc file
gdas1_sf          = gdas.t{aHH}z.sf{fahr:02d}          ;; GDAS spectral forecast

gfs_gribA         = gfs.t{aHH}z.pgrb2.0p25.f{fahr:03d}  ;; GFS GRIB on standard levels
gfs_gribB         = gfs.t{aHH}z.pgrb2b.0p25.f{fahr:03d} ;; GFS GRIB on "in-between" levels

gdas1_gribA       = gdas.t{aHH}z.pgrb2.0p25.f{fahr:03d}  ;; GDAS GRIB on standard levels 
gdas1_gribB       = gdas.t{aHH}z.pgrb2b.0p25.f{fahr:03d} ;; GDAS GRIB on "in-between" levels

gfs_sfluxgrb      = gfs.t{aHH}z.pgrb2.0p25.f{fahr:03d}        ;; GFS surface flux files
gdas1_sfluxgrb    = gdas.t{aHH}z.pgrb2.0p25.f{fahr:03d}      ;; GDAS surface flux files

# ----------------------------------------------------------------------
# Nothing after this line is used by the operational HWRF.
# If you are the NCO SPA, you can stop reading now.
# ----------------------------------------------------------------------
# Development locations, not used by the production HWRF:

[config]
# User accounts on remote clusters, used for pulling data from Jet or
# Zeus.  Note that this is wrong for emc.hurpara@wcoss:
jet_user={ENV[USER]}   ;; User account for pulling data from Jet
theia_user={ENV[USER]}  ;; User accound for pulling data from Theia
# Use this for emc.hurpara:
# jet_user=hurdata
# theia_user=hurdata
#
## Data sources for WCOSS COM for hwrf.input.InputSource
[commsources]
comm_hist%location = file:/// ;; com file location
comm_hist%histprio=1          ;; com priority for hwrf.input.InputSource

#######@inc=ftpsources

# This is the list of transfer mechanisms available to jobs running on
# WCOSS.  Forbids FTP access, and restricts real-time cases to using
# local data.  Retrospectives will pull data from Zeus first, Jet
# second.  See hwrf.input.InputSource for details.

[syndat_naming]
## Name of the tcvitals file
syndat            = syndat_tcvitals.sf{fYYYY}

# ----------------------------------------------------------------------
# INPUT SOURCES
[wcoss_fcst_PROD2016]
inputroot={ENV[COMINgfs]}  ;; Input data root
rtofs={ENV[COMINrtofs]}          ;; RTOFS directory
rtofsstage={WORKhwrf}/hycominit1/RTOFSDIR
gfs={inputroot}/gfs.{aYMD}/{aHH}/          ;; GFS directory
gdas1={inputroot}/gdas.{aYMD}/       ;; GDAS directory
messages={ENV[COMINmsg]}/        ;; hurricane message file directory
syndatdir={ENV[DATA]}/       ;; syndat tcvitals directory
@inc=gfs2014_naming,emc_para_grib2_pgrib,rtofs_naming,rtofs_disk_wcoss

[rtofs_naming]
rtofs_fcst_name=./rtofs_glo.t00z.f{fahr:02d}.archv.{ab}
rtofs_now_name=./rtofs_glo.t00z.n00.archv.{ab}
rtofs_rst_name=./rtofs_glo.t00z.n00.restart.{ab}
rtofs_past_name=./rtofs_glo.t00z.n{fahr:03d}.archv.{ab}

[rtofs_disk_jet]
rtofs=/lfs3/projects/hwrf-data/hwrf-input/rtofs/
# if  f51.a is missing then use below because I backfilled a few days
rtofs_fcst  = rtofs.{aYMD}/rtofs_glo.t00z.f{fahr:02d}.archv.{ab}
rtofs_now   = rtofs.{aYMD}/rtofs_glo.t00z.n00.archv.{ab}
rtofs_rst   = rtofs.{aYMD}/rtofs_glo.t00z.n00.restart.{ab}
rtofs_past  = rtofs.{aYMD}/rtofs_glo.t00z.n{fahr:03d}.archv.{ab}

[rtofs_disk_wcoss]
#rtofs=/gpfs/hps/emc/hwrf/noscrub/input/rtofs/
rtofs_fcst  = rtofs.{aYMD}/rtofs_glo.t00z.f{fahr:02d}.archv.{ab}
rtofs_now   = rtofs.{aYMD}/rtofs_glo.t00z.n00.archv.{ab}
rtofs_rst   = rtofs.{aYMD}/rtofs_glo.t00z.n00.restart.{ab}
rtofs_past  = rtofs.{aYMD}/rtofs_glo.t00z.n{fahr:03d}.archv.{ab}

## 2014 GFS retrospective file naming.
#
# GFS, GDAS or ENKF, including the GRIB1 and GRIB2 files:
[emc_prod_naming_grib]
gfs_sfluxgrb      = {sflux_tar}#./gfs.t{aHH}z.sfluxgrbf{fahr:02d}.grib2     ;; GFS surface flux files
gdas1_sfluxgrb    = {gdas_tar}#./gdas1.t{aHH}z.sfluxgrbf{fahr:02d}.grib2   ;; GDAS surface flux files

## GFS standard level GRIB file
gfs_gribA         = {pgbma_tar}#./gfs.t{aHH}z.pgrb2.0p25.f{fahr:03d}    ; standard levels
## GFS "in-between" level GRIB file
gfs_gribB         = {pgbma_tar}#./gfs.t{aHH}z.pgrb2b.0p25.f{fahr:03d}   ; in-between levels

## GDAS standard level GRIB file
gdas1_gribA       = {gdas_tar}#./gdas1.t{aHH}z.pgrb2.0p25.f{fahr:03d}
## GDAS "in-between" level GRIB file
gdas1_gribB       = {gdas_tar}#./gdas1.t{aHH}z.pgrb2b.0p25.f{fahr:03d}


[emc_para_grib2_pgrib]
## GFS GRIB file
gfs_gribA         = gfs.t{aHH}z.pgrb2.0p25.f{fahr:03d}          ;; GFS 0.25 grib2 files
gdas1_gribA = gdas.t{aHH}z.pgrb2.0p25.f{fahr:03d}

