## This is the first configuration file read in during the pre_master
# job when creating the initial configuration.  It sets directory
# paths to which the later conf files refer.  Any variables set in
# later conf files will override variables set here.
#
# This default file is used by NCEP EMC for retrospective runs.  It
# assumes another file has set the CDSCRUB, CDSAVE, syndat and
# CDNOSCRUB variables in the [dir] section.  This allows the system to
# be easily picked up and moved to another cluster.  See system.conf
# for examples.

[config]
GFSVER=PROD2017 ;; GFS version (default)
cycling_interval=6.0
forecast_length=126 ;; Length of the forecast in hours

# Enable or disable parts of the workflow
run_vortexinit=no    ;; vortex initialization
run_gsi=no           ;; GSI and FGAT initialization
run_ens_vortexinit=no    ;; ensemble vortex initialization
run_ocean=no         ;; Ocean coupling
run_wave=no          ;; Wave coupling 

#! Scrub option: do we delete temporary files?  Disabling this will
#  disable most, but not all, temporary file deletion.
#scrub=yes   ; delete temporary files
scrub=no
scrub_com=yes   ;; Do we scrub the com directory?
scrub_work=yes  ;; Do we scrub the work directory?

## Prefix to prepend to most output files in the COM directory.  Also
#  used for archive filenames.
out_prefix={vit[stormnamelc]}{vit[stnum]:02d}{vit[basin1lc]}.{vit[YMDH]}
out_prefix_nodate={vit[stormnamelc]}{vit[stnum]:02d}{vit[basin1lc]}

## out_prefix value for prior cycle
old_out_prefix={oldvit[stormnamelc]}{oldvit[stnum]:02d}{oldvit[basin1lc]}.{oldvit[YMDH]}
## out_prefix_nodate value for prior cycle
old_out_prefix_nodate={oldvit[stormnamelc]}{oldvit[stnum]:02d}{oldvit[basin1lc]}

## Pull data from external sources to a staging area.  
#
# The input_catelog specifies a section (default: [hafsdata]) to use
# for.
input_catalog=hafsdata

## RUNhafs is a component of some other file paths
RUNhafs={SUBEXPT}

## Enables email to the NOAA SDM.  Do not email the NOAA Senior Duty
#  Meteorologist (PLEASE).
email_sdm=no  ; do not change unless you are NCEP Central Operations

## Configure directory paths.
[dir]
## HAFS install location
HOMEhafs={CDSAVE}/{EXPT}
## Main scrub directory
WORKhafs={CDSCRUB}/{RUNhafs}/{vit[YMDH]}/{vit[stormid3]}
## COM directories are used for communicating between cycles and
## storms.  This is the COM directory specified by the vitals in the
## "vit" variable.
com={CDSCRUB}/{RUNhafs}/com/{vit[YMDH]}/{vit[stormid3]}
realstormcom={CDSCRUB}/{RUNhafs}/com/{YMDH}/{realstorm}
realstormwork={CDSCRUB}/{RUNhafs}/{YMDH}/{realstorm}
oldcom={CDSCRUB}/{RUNhafs}/com/{oldvit[YMDH]}/{oldvit[stormid3]}
oldsid={oldvit[stormid3]}
# NOSCRUB delivery locations
outatcf={CDNOSCRUB}/{SUBEXPT}     ;; Delivery location for ATCF files
outdiag={CDNOSCRUB}/diagtrak/{SUBEXPT} ;; Delivery location for wrfdiag files
outstatus={CDNOSCRUB}/cycstatus/{SUBEXPT} ;; Delivery location for status files
outatcfcorrected={CDNOSCRUB}/atcf/{SUBEXPT} ;; delivery location for corrected ATCF files
outships={CDNOSCRUB}/ships/{SUBEXPT} ;; delivery location for SHIPS files

## Variables to set as string values when parsing the
# hafs_workflow.xml.in.  This section is only used by the rocoto-based
# workflow
[rocotostr]
CDSAVE={dir/CDSAVE}       ;; save area for Rocoto to use
CDNOSCRUB={dir/CDNOSCRUB} ;; non-scrubbed area for Rocoto to use
CDSCRUB={dir/CDSCRUB}     ;; scrubbed area for Rocoto to use
PARMhafs={dir/PARMhafs}   ;; parm/ directory location
USHhafs={dir/USHhafs}     ;; ush/ directory location
EXhafs={dir/EXhafs}       ;; scripts/ directory location
EXPT={config/EXPT}        ;; experiment name
SUBEXPT={config/SUBEXPT}  ;; sub-experiment name
CPU_ACCOUNT={cpu_account} ;; CPU account name

## Variables to set as boolean values when parsing the
# hafs_workflow.xml.in; they'll be changed to YES or NO.  This section
# is only used by the rocoto-based workflow.
[rocotobool]
RUN_GSI={run_gsi}         ;; Do we run GSI?
CONDITIONAL_GSID03={conditional_gsid03}  ;; Do we disable d03 GSI when TDR is unavailable?
CONDITIONAL_GSID02={conditional_gsid02}  ;; Do we disable d02 GSI when TDR is unavailable?
RUN_OCEAN={run_ocean}     ;; Do we run with ocean coupling?
RUN_WAVE={run_wave}       ;; Do we run with wave coupling?
RUN_VORTEXINIT={run_vortexinit}     ;; Do we enable vortex initialization?
ALLOW_FALLBACKS={allow_fallbacks}   ;; Do we allow fallback when things fail?
SCRUB_COM={scrub_com}               ;; Should Rocoto scrub the COM directory?
SCRUB_WORK={scrub_work}               ;; Should Rocoto scrub the WORK directory?
EXTRA_TRACKERS={extra_trackers}     ;; Do we run the extra tracker jobs?
RUN_ENS_VORTEXINIT={run_ens_vortexinit} ;; Do we run relocation for ensemble member?

