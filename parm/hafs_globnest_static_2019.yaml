# This is a UNIX conf file that contains ALL information relating to
# the HAFS basin-focused global-nesting configuration.  
#
# Specify the domain center Latitude and Longitude
config: # <------- section [config]

  NHRS: 168
  # ^--- was NHRS=168

  domlat: 22.0
  # ^--- was domlat=22.0

  domlon: "-62.0"
  # ^--- was domlon=-62.0

# Same as domlat and domlon but vitals formatted 
  vitalsdomlat: "220N"
  # ^--- was vitalsdomlat=220N

  vitalsdomlon: "620W"
  # ^--- was vitalsdomlon=620W


# HAFS launcher requires vitals and a storm.
# This is a default minimum vitals file for a fake storm.
# The format of the missing value fields was based on the log
# output returned when running the launcher after the vitals have 
# been "cleaned" up. That is, if  you enter the fields as all -999 values, 
# the "cleaned" output is returned. In essence I'm treating the vitals 
# module as a factory in the sense that it knows the correct format.
# NHC 00L FAKE 20120710 0000 250N 0800W -99 -99 -999 -999 -099 -9 -99 -999 -999 -999 -999 M
# fakestormid is a config option set in the launcher and is the 
# last storm id in the list of storms.
  fakestormid: "00L"
  # ^--- was fakestormid=00L

  fakestormname: "NATL"
  # ^--- was fakestormname=NATL

  fakestormorg: "NHC"
  # ^--- was fakestormorg=NHC


dir: # <------- section [dir]

  PARMforecast: !uexpand "{all.PARMhafs}/forecast/globnest"
  # ^--- was PARMforecast={PARMhafs}/forecast/globnest

  COMgfs: "/lfs1/projects/hwrf-data/hafs-input/COMGFS"
  # ^--- was COMgfs=/lfs1/projects/hwrf-data/hafs-input/COMGFS


grid: # <------- section [grid]

  CASE: "C768" ##  FV3 resolution
  # ^--- was CASE=C768

  LEVELS: 65 ##  Model vertical levels: 65
  # ^--- was LEVELS=65

  gtype: "nest" ##  grid type: uniform, stretch, nest, or regional
  # ^--- was gtype=nest

# If gridfixdir is provided and the dir exists, then use the pre-generated static grid fix files under gridfixdir
#gridfixdir={FIXhafs}/fix_fv3/{CASE}_globnest_static
####gridfixdir=/let/hafs_grid/generate/grid
  gridfixdir: "/lfs1/projects/hwrf-data/globalnest_static_grid"
  # ^--- was gridfixdir=/lfs1/projects/hwrf-data/globalnest_static_grid

# Otherwise, will generate the model grid according to the following grid parameters
# Need for grid types: stretch, nest and regional
  stretch_fac: 1.0001 ##  Stretching factor for the grid
  # ^--- was stretch_fac=1.0001

  target_lon: !uexpand "{all.domlon}" ##  center longitude of the highest resolution tile
  # ^--- was target_lon={domlon}

  target_lat: !uexpand "{all.domlat}" ##  center latitude of the highest resolution tile
  # ^--- was target_lat={domlat}

# Need for grid types: nest and regional
  refine_ratio: 4 ##  Specify the refinement ratio for nest grid
  # ^--- was refine_ratio=4

  istart_nest: 47
  # ^--- was istart_nest=47

  jstart_nest: 311
  # ^--- was jstart_nest=311

  iend_nest: 1486
  # ^--- was iend_nest=1486

  jend_nest: 1102
  # ^--- was jend_nest=1102


# For the global domain if it is a global or global-nesting experiment
forecast: # <------- section [forecast]

  glob_layoutx: 8
  # ^--- was glob_layoutx=8

  glob_layouty: 12
  # ^--- was glob_layouty=12

  glob_npx: 769
  # ^--- was glob_npx=769

  glob_npy: 769
  # ^--- was glob_npy=769

# For the nested or regional standalone domain
#zzlayoutx=48
#zzlayouty=32
  layoutx: 40
  # ^--- was layoutx=40

  layouty: 33
  # ^--- was layouty=33

  npx: 2881
  # ^--- was npx=2881

  npy: 1585
  # ^--- was npy=1585

  npz: 64
  # ^--- was npz=64


  write_groups: 3
  # ^--- was write_groups=3

  write_tasks_per_group: 48
  # ^--- was write_tasks_per_group=48

  output_grid: "regional_latlon"
  # ^--- was output_grid=regional_latlon

  output_grid_cen_lon: "-62.0" ##  central longitude
  # ^--- was output_grid_cen_lon=-62.0

  output_grid_cen_lat: 25.0 ##  central latitude
  # ^--- was output_grid_cen_lat=25.0

  output_grid_lon_span: 105.0 ##  output domain span for longitude in regular latlon coordinate system (in degrees) 
  # ^--- was output_grid_lon_span=105.0

  output_grid_lat_span: 60.0 ##  output domain span for latitude in regular latlon coordinate system (in degrees) 
  # ^--- was output_grid_lat_span=60.0

  output_grid_dlon: 0.03 ##  output grid spacing dlon . . . .
  # ^--- was output_grid_dlon=0.03

  output_grid_dlat: 0.03 ##  output grid spacing dlat . . . .
  # ^--- was output_grid_dlat=0.03


rocotostr: # <------- section [rocotostr]

  FORECAST_RESOURCES: !uexpand "FORECAST_RESOURCES_globnest_6x{doc.forecast.glob_layoutx}x{doc.forecast.glob_layouty}_{doc.forecast.layoutx}x{doc.forecast.layouty}io{doc.forecast.write_groups}x{doc.forecast.write_tasks_per_group}_omp2"
  # ^--- was FORECAST_RESOURCES=FORECAST_RESOURCES_globnest_6x{forecast/glob_layoutx}x{forecast/glob_layouty}_{forecast/layoutx}x{forecast/layouty}io{forecast/write_groups}x{forecast/write_tasks_per_group}_omp2


